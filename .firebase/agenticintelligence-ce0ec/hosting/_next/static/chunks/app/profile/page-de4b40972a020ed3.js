(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{3:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var a=r(2756),s=r(3640);function i(){let e=(0,s.useRef)(null),t=(0,s.useRef)([]),r=(0,s.useRef)(0);return(0,s.useEffect)(()=>{let a=e.current;if(!a)return;let s=a.getContext("2d");if(!s)return;let i=()=>{a.width=window.innerWidth,a.height=window.innerHeight,l()},l=()=>{t.current=[];let e=Math.min(Math.floor(window.innerWidth/10),100);for(let r=0;r<e;r++)t.current.push({x:Math.random()*a.width,y:Math.random()*a.height,size:2*Math.random()+.5,speedX:(Math.random()-.5)*.5,speedY:(Math.random()-.5)*.5,color:"hsl(187, 100%, ".concat(40+20*Math.random(),"%)"),alpha:.1+.4*Math.random()})},n=()=>{s.clearRect(0,0,a.width,a.height),t.current.forEach((e,t)=>{e.x+=e.speedX,e.y+=e.speedY,e.x<0&&(e.x=a.width),e.x>a.width&&(e.x=0),e.y<0&&(e.y=a.height),e.y>a.height&&(e.y=0),s.beginPath(),s.arc(e.x,e.y,e.size,0,2*Math.PI),s.fillStyle=e.color,s.globalAlpha=e.alpha,s.fill(),o(e,t)}),r.current=requestAnimationFrame(n)},o=(e,r)=>{for(let a=r+1;a<t.current.length;a++){let r=t.current[a],i=e.x-r.x,l=e.y-r.y,n=Math.sqrt(i*i+l*l);if(n<100){let t=1-n/100;s.beginPath(),s.moveTo(e.x,e.y),s.lineTo(r.x,r.y),s.strokeStyle="hsla(187, 100%, 50%, ".concat(.2*t,")"),s.lineWidth=.5,s.stroke()}}};return i(),window.addEventListener("resize",i),r.current=requestAnimationFrame(n),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(r.current)}},[]),(0,a.jsx)("canvas",{ref:e,className:"absolute inset-0 z-0"})}},357:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var a=r(2756),s=r(3640),i=r(1941),l=r(4413),n=r(1826);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:s,size:l,className:r})),ref:t,...c})});d.displayName="Button"},841:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>n,TabsContent:()=>c,TabsList:()=>o,TabsTrigger:()=>d});var a=r(2756),s=r(3640),i=r(8900),l=r(1826);let n=i.bL,o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...s})});o.displayName=i.B8.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...s})});d.displayName=i.l9.displayName;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});c.displayName=i.UC.displayName},1826:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var a=r(2197),s=r(4837);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},2170:(e,t,r)=>{"use strict";r.d(t,{BK:()=>o,eu:()=>n,q5:()=>d});var a=r(2756),s=r(3640),i=r(9265),l=r(1826);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});n.displayName=i.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...s})});o.displayName=i._V.displayName;let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});d.displayName=i.H4.displayName},2889:(e,t,r)=>{"use strict";r.d(t,{Label:()=>d});var a=r(2756),s=r(3640),i=r(4791),l=r(4413),n=r(1826);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.b,{ref:t,className:(0,n.cn)(o(),r),...s})});d.displayName=i.b.displayName},3635:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var a=r(2756),s=r(3640),i=r(1826);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},3891:(e,t,r)=>{"use strict";r.d(t,{T:()=>l});var a=r(2756),s=r(3640),i=r(1826);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...s})});l.displayName="Textarea"},5571:(e,t,r)=>{"use strict";r.d(t,{default:()=>X});var a=r(2756),s=r(3640),i=r(5785),l=r(3286),n=r(4913),o=r(4640),d=r(5909),c=r(357),u=r(1941),m=r(1826),p=r(2889);let f=l.Op,h=s.createContext({}),g=e=>{let{...t}=e;return(0,a.jsx)(h.Provider,{value:{name:t.name},children:(0,a.jsx)(l.xI,{...t})})},x=()=>{let e=s.useContext(h),t=s.useContext(v),{getFieldState:r,formState:a}=(0,l.xW)(),i=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...i}},v=s.createContext({}),b=s.forwardRef((e,t)=>{let{className:r,...i}=e,l=s.useId();return(0,a.jsx)(v.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,m.cn)("space-y-2",r),...i})})});b.displayName="FormItem";let j=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:i,formItemId:l}=x();return(0,a.jsx)(p.Label,{ref:t,className:(0,m.cn)(i&&"text-destructive",r),htmlFor:l,...s})});j.displayName="FormLabel";let y=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:l,formMessageId:n}=x();return(0,a.jsx)(u.DX,{ref:t,id:i,"aria-describedby":s?"".concat(l," ").concat(n):"".concat(l),"aria-invalid":!!s,...r})});y.displayName="FormControl";let N=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:i}=x();return(0,a.jsx)("p",{ref:t,id:i,className:(0,m.cn)("text-sm text-muted-foreground",r),...s})});N.displayName="FormDescription";let w=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e,{error:l,formMessageId:n}=x(),o=l?String(null==l?void 0:l.message):s;return o?(0,a.jsx)("p",{ref:t,id:n,className:(0,m.cn)("text-sm font-medium text-destructive",r),...i,children:o}):null});w.displayName="FormMessage";var k=r(3635),T=r(3891),C=r(8325);let S=0,E=new Map,R=e=>{if(E.has(e))return;let t=setTimeout(()=>{E.delete(e),L({type:"REMOVE_TOAST",toastId:e})},1e6);E.set(e,t)},F=[],A={toasts:[]};function L(e){A=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?R(r):e.toasts.forEach(e=>{R(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(A,e),F.forEach(e=>{e(A)})}function I(e){let{...t}=e,r=(S=(S+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>L({type:"DISMISS_TOAST",toastId:r});return L({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>L({type:"UPDATE_TOAST",toast:{...e,id:r}})}}var _=r(7743),P=r(249),M=r(8040),z=r(7441);function B(e){let{links:t,onChange:r}=e,s=e=>a=>{r({...t,[e]:a.target.value})};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Social Links"}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p.Label,{htmlFor:"twitter",className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-4 w-4"}),"X / Twitter"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-muted px-3 py-2 text-sm border border-r-0 rounded-l-md",children:"twitter.com/"}),(0,a.jsx)(k.p,{id:"twitter",placeholder:"username",value:t.twitter,onChange:s("twitter"),className:"rounded-l-none"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p.Label,{htmlFor:"github",className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),"GitHub"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-muted px-3 py-2 text-sm border border-r-0 rounded-l-md",children:"github.com/"}),(0,a.jsx)(k.p,{id:"github",placeholder:"username",value:t.github,onChange:s("github"),className:"rounded-l-none"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(p.Label,{htmlFor:"linkedin",className:"flex items-center gap-2",children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),"LinkedIn"]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"bg-muted px-3 py-2 text-sm border border-r-0 rounded-l-md",children:"linkedin.com/in/"}),(0,a.jsx)(k.p,{id:"linkedin",placeholder:"username",value:t.linkedin,onChange:s("linkedin"),className:"rounded-l-none"})]})]})]})]})}var O=r(7171),D=r(8172);function U(e){let{links:t,onChange:r}=e,s=(e,a)=>s=>{let i=[...t];i[e]={...i[e],[a]:s.target.value},r(i)};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Custom Links"}),(0,a.jsxs)(c.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{r([...t,{title:"",url:""}])},className:"flex items-center gap-1",children:[(0,a.jsx)(O.A,{className:"h-4 w-4"}),"Add Link"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[t.map((e,i)=>(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsxs)("div",{className:"grid gap-2 flex-1",children:[(0,a.jsx)(p.Label,{htmlFor:"link-title-".concat(i),children:"Link Title"}),(0,a.jsx)(k.p,{id:"link-title-".concat(i),placeholder:"My Website",value:e.title,onChange:s(i,"title")})]}),(0,a.jsxs)("div",{className:"grid gap-2 flex-1",children:[(0,a.jsx)(p.Label,{htmlFor:"link-url-".concat(i),children:"URL"}),(0,a.jsx)(k.p,{id:"link-url-".concat(i),placeholder:"https://example.com",value:e.url,onChange:s(i,"url")})]}),(0,a.jsxs)(c.$,{type:"button",variant:"ghost",size:"icon",onClick:()=>(e=>{let a=[...t];a.splice(e,1),r(a)})(i),className:"mt-8",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Remove link"})]})]},i)),0===t.length&&(0,a.jsx)("div",{className:"text-center py-4 text-muted-foreground",children:'No custom links added yet. Click "Add Link" to create one.'})]})]})}var V=r(841),Y=r(2170);let W=["/avatars/avatar-1.png","/avatars/avatar-2.png","/avatars/avatar-3.png","/avatars/avatar-4.png","/avatars/avatar-5.png","/avatars/avatar-6.png"],$=e=>{var t,r;let{currentImage:i,onImageChange:l}=e,{data:n}=(0,o.wV)(),[d,u]=(0,s.useState)(!1),[m,f]=(0,s.useState)(""),h=(0,s.useRef)(null),g=async e=>{var t;let r=null==(t=e.target.files)?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void I({title:"Invalid file type",description:"Please upload an image file.",variant:"destructive"});if(r.size>5242880)return void I({title:"File too large",description:"Maximum file size is 5MB.",variant:"destructive"});try{u(!0);let e=new FormData;e.append("file",r);let t=await fetch("/api/upload",{method:"POST",headers:{Authorization:"Bearer ".concat((null==n?void 0:n.accessToken)||"")},body:e});if(!t.ok)throw Error("Upload failed");let a=await t.json();l(a.url),I({title:"Upload successful",description:"Your profile image has been updated."})}catch(e){console.error("Error uploading image:",e),I({title:"Upload failed",description:"There was a problem uploading your image.",variant:"destructive"})}finally{u(!1)}}};return(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,a.jsxs)(Y.eu,{className:"w-32 h-32 border-2 border-primary",children:[(0,a.jsx)(Y.BK,{src:i,alt:"Profile"}),(0,a.jsx)(Y.q5,{children:(null==n||null==(r=n.user)||null==(t=r.name)?void 0:t.charAt(0))||"U"})]}),(0,a.jsxs)(V.Tabs,{defaultValue:"upload",className:"w-full max-w-md",children:[(0,a.jsxs)(V.TabsList,{className:"grid grid-cols-3 mb-4",children:[(0,a.jsx)(V.TabsTrigger,{value:"upload",children:"Upload"}),(0,a.jsx)(V.TabsTrigger,{value:"url",children:"URL"}),(0,a.jsx)(V.TabsTrigger,{value:"avatar",children:"Avatars"})]}),(0,a.jsxs)(V.TabsContent,{value:"upload",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,a.jsx)(p.Label,{htmlFor:"picture",children:"Upload a picture"}),(0,a.jsx)(k.p,{id:"picture",type:"file",accept:"image/*",ref:h,onChange:g,disabled:d})]}),d&&(0,a.jsx)("p",{className:"text-sm text-center",children:"Uploading..."})]}),(0,a.jsx)(V.TabsContent,{value:"url",children:(0,a.jsx)("form",{onSubmit:e=>{if(e.preventDefault(),m)try{new URL(m),l(m),f(""),I({title:"Image updated",description:"Your profile image has been updated."})}catch(e){I({title:"Invalid URL",description:"Please enter a valid image URL.",variant:"destructive"})}},className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[(0,a.jsx)(p.Label,{htmlFor:"url",children:"Image URL"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(k.p,{id:"url",type:"text",placeholder:"https://example.com/image.jpg",value:m,onChange:e=>f(e.target.value)}),(0,a.jsx)(c.$,{type:"submit",size:"sm",children:"Set"})]})]})})}),(0,a.jsx)(V.TabsContent,{value:"avatar",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-4",children:W.map((e,t)=>(0,a.jsx)("div",{className:"cursor-pointer p-2 rounded-md transition-all ".concat(i===e?"ring-2 ring-primary":"hover:bg-accent"),onClick:()=>{l(e),I({title:"Avatar updated",description:"Your profile avatar has been updated."})},children:(0,a.jsx)(Y.eu,{className:"w-16 h-16 mx-auto",children:(0,a.jsx)(Y.BK,{src:e,alt:"Avatar ".concat(t+1)})})},t))})})]})]})},q=n.Ik({firstName:n.Yj().min(2,{message:"First name must be at least 2 characters."}),lastName:n.Yj().min(2,{message:"Last name must be at least 2 characters."}),bio:n.Yj().max(500,{message:"Bio must not be longer than 2500 characters."}),profileImage:n.Yj().optional(),tags:n.Yj().optional()}),X=()=>{let{data:e}=(0,o.wV)(),t=(0,d.useRouter)(),[r,n]=(0,s.useState)(!0),[u,m]=(0,s.useState)({twitter:"",github:"",linkedin:""}),[p,h]=(0,s.useState)([{title:"",url:""}]),[x,v]=(0,s.useState)(""),[S,E]=(0,s.useState)("/confident-professional.png"),[R,F]=(0,s.useState)([]),[A,L]=(0,s.useState)(!1),P=(0,l.mN)({resolver:(0,i.u)(q),defaultValues:{firstName:"",lastName:"",bio:"",profileImage:"",tags:""},mode:"onChange"});(0,s.useEffect)(()=>{(async()=>{if(null==e?void 0:e.user)try{var t;n(!0);let r=await fetch("/api/user",{headers:{Authorization:"Bearer ".concat(e.accessToken||"")}});if(!r.ok)throw Error("Failed to fetch profile data");let a=await r.json();P.reset({firstName:a.first_name||"",lastName:a.last_name||"",bio:a.bio||"",profileImage:a.profile_image||"/confident-professional.png",tags:a.tags||""}),m(a.social_links||{twitter:"",github:"",linkedin:""}),h((null==(t=a.custom_links)?void 0:t.length)>0?a.custom_links:[{title:"",url:""}]),E(a.profile_image||"/confident-professional.png")}catch(e){console.error("Error fetching user profile:",e),I({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{n(!1)}})()},[e,P]);let M=async e=>{if(!e||e.length<2)return void F([]);try{let t=await fetch("/api/tags/suggestions?query=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch tag suggestions");let r=await t.json();F(r),L(r.length>0)}catch(e){console.error("Error fetching tag suggestions:",e),F([])}};async function z(t){if(!(null==e?void 0:e.user))return void I({title:"Error",description:"You must be logged in to update your profile",variant:"destructive"});try{if(!(await fetch("/api/user",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.accessToken||"")},body:JSON.stringify({...t,socialLinks:u,customLinks:p.filter(e=>e.title&&e.url)})})).ok)throw Error("Failed to update profile");I({title:"Profile updated",description:"Your profile has been successfully updated."})}catch(e){console.error("Error updating profile:",e),I({title:"Error",description:"Failed to update profile. Please try again.",variant:"destructive"})}}(0,s.useEffect)(()=>{e||r||t.push("/login")},[e,r,t]);let O=e=>{let t=e.target.value;if(v(t),M(t),t.endsWith(",")){let e=P.getValues("tags")?P.getValues("tags").split(",").filter(Boolean):[];if(e.length<10){let r=t.slice(0,-1).trim();r&&(P.setValue("tags",[...e,r].join(",")),v(""),L(!1))}else v("")}},D=async()=>{var t;if(!(null==e||null==(t=e.user)?void 0:t.email))return void I({title:"Error",description:"Email address not available. Please try again later.",variant:"destructive"});try{if(!(await fetch("/api/user/password-reset",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.user.email})})).ok)throw Error("Failed to send password reset email");I({title:"Password reset initiated",description:"Check your email for password reset instructions."})}catch(e){console.error("Error resetting password:",e),I({title:"Error",description:"Failed to initiate password reset. Please try again.",variant:"destructive"})}},V=async()=>{let t=prompt("Enter your new email address:");if(t)try{if(!(await fetch("/api/user/email-update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((null==e?void 0:e.accessToken)||"")},body:JSON.stringify({email:t})})).ok)throw Error("Failed to update email");I({title:"Email verification sent",description:"Check your new email to complete the change."})}catch(e){console.error("Error updating email:",e),I({title:"Error",description:"Failed to update email. Please try again.",variant:"destructive"})}};return(0,a.jsx)(f,{...P,children:(0,a.jsxs)("form",{onSubmit:P.handleSubmit(z),className:"space-y-8",children:[(0,a.jsx)(_.Zp,{className:"bg-gray-900/60 backdrop-blur-md",children:(0,a.jsx)(_.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8 items-start",children:[(0,a.jsx)($,{currentImage:S,onImageChange:e=>{E(e),P.setValue("profileImage",e)}}),(0,a.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(g,{control:P.control,name:"firstName",render:e=>{let{field:t}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{children:"First name"}),(0,a.jsx)(y,{children:(0,a.jsx)(k.p,{placeholder:"John",...t})}),(0,a.jsx)(w,{})]})}}),(0,a.jsx)(g,{control:P.control,name:"lastName",render:e=>{let{field:t}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{children:"Last name"}),(0,a.jsx)(y,{children:(0,a.jsx)(k.p,{placeholder:"Doe",...t})}),(0,a.jsx)(w,{})]})}})]}),(0,a.jsx)(g,{control:P.control,name:"bio",render:e=>{let{field:t}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{children:"Bio"}),(0,a.jsx)(y,{children:(0,a.jsx)(T.T,{placeholder:"Tell us about yourself",className:"resize-none min-h-[120px]",...t})}),(0,a.jsx)(N,{children:"Brief description for your profile. Maximum 2500 characters."}),(0,a.jsx)(w,{})]})}}),(0,a.jsx)(g,{control:P.control,name:"tags",render:e=>{var t;let{field:r}=e;return(0,a.jsxs)(b,{children:[(0,a.jsx)(j,{children:"Tags"}),(0,a.jsx)(y,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 border rounded-md focus-visible:ring-0 relative",children:[null==(t=r.value)?void 0:t.split(",").filter(Boolean).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 text-sm bg-primary/20 rounded-full",children:[(0,a.jsx)("span",{children:e.trim()}),(0,a.jsx)("button",{type:"button",className:"w-4 h-4 rounded-full hover:bg-primary/30",onClick:()=>{var e;let a=(null==(e=r.value)?void 0:e.split(",").filter(Boolean))||[];a.splice(t,1),r.onChange(a.join(","))},children:"\xd7"})]},t)),(0,a.jsx)(k.p,{className:"border-0 focus-visible:ring-0 flex-1 min-w-[120px] bg-transparent",placeholder:"Add tag...",value:x,onChange:O,onFocus:()=>{x.length>=2&&L(R.length>0)},onBlur:()=>{setTimeout(()=>L(!1),200)},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let t=x.trim();if(t){let e=r.value?r.value.split(",").filter(Boolean):[];e.length<10&&(r.onChange([...e,t].join(",")),v(""),L(!1))}}}}),A&&(0,a.jsx)("div",{className:"absolute left-0 right-0 top-full mt-1 bg-background border rounded-md shadow-lg z-10 max-h-40 overflow-y-auto",children:R.map((e,t)=>(0,a.jsx)("div",{className:"px-3 py-2 hover:bg-accent cursor-pointer",onClick:()=>(e=>{let t=P.getValues("tags")?P.getValues("tags").split(",").filter(Boolean):[];t.length<10&&(P.setValue("tags",[...t,e].join(",")),v(""),L(!1))})(e),children:e},t))})]})}),(0,a.jsx)(N,{children:"Add up to 10 tags to help others find you. Separate tags with commas."}),(0,a.jsx)(w,{})]})}})]})]}),(0,a.jsx)(C.Separator,{}),(0,a.jsx)(B,{links:u,onChange:e=>{m(e)}}),(0,a.jsx)(C.Separator,{}),(0,a.jsx)(U,{links:p,onChange:e=>{h(e)}}),(0,a.jsx)(C.Separator,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Account Settings"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:D,children:"Reset Password"}),(0,a.jsx)(c.$,{type:"button",variant:"outline",onClick:V,children:"Change Email"})]})]})]})})}),(0,a.jsx)(c.$,{type:"submit",size:"lg",disabled:r,children:"Save changes"})]})})}},7493:(e,t,r)=>{Promise.resolve().then(r.bind(r,3)),Promise.resolve().then(r.bind(r,5571))},7743:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>n,wL:()=>u});var a=r(2756),s=r(3640),i=r(1826);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm bg-gray-900/60 backdrop-blur-md",r),...s})});l.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},8325:(e,t,r)=>{"use strict";r.d(t,{Separator:()=>n});var a=r(2756),s=r(3640),i=r(2639),l=r(1826);let n=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:n=!0,...o}=e;return(0,a.jsx)(i.b,{ref:t,decorative:n,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...o})});n.displayName=i.b.displayName}},e=>{e.O(0,[8921,5256,9835,2396,3322,7437,7522,7358],()=>e(e.s=7493)),_N_E=e.O()}]);